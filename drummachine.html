<!DOCTYPE html>
<html lang="en">
  <body>
    <head>
<link
    rel="stylesheet" href="drummachine.css"
  />
      <link
    rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
      <title>Drum Machine</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js">
    </script>
      <script>
      const clips = {
  heater1: "Q",
  heater2: "W",
  heater3: "E",
  heater4: "A",
  clap: "S",
  openhh: "D",
  kicknhat: "Z",
  kick: "X",
  closedhh: "C"
}
const keys = []


$(document).ready(function() {
    $("#drum-machine").addClass("animate__animated animate__rollIn");
  });

$(document).keydown(function(keyPressed) {
  
  switch (keyPressed.keyCode) {
    case 81:
      document.getElementById("Q").play();
      document.getElementById("display").innerHTML = "HEATER1";
      break; 
      case 87:
      document.getElementById("W").play();
      document.getElementById("display").innerHTML = "HEATER2";
      break; 
      case 69:
      document.getElementById("E").play();
      document.getElementById("display").innerHTML = "HEATER3";
      break; 
      case 65:
      document.getElementById("A").play();
      document.getElementById("display").innerHTML = "HEATER4";
      break; 
      case 83:
      document.getElementById("S").play();
      document.getElementById("display").innerHTML = "CLAP";
      break; 
      case 68:
      document.getElementById("D").play();
      document.getElementById("display").innerHTML = "OPENHH";
      break; 
      case 90:
      document.getElementById("Z").play();
      document.getElementById("display").innerHTML = "KICKNHAT";
      break; 
      case 88:
      document.getElementById("X").play();
      document.getElementById("display").innerHTML = "KICK";
      break; 
      case 67:
      document.getElementById("C").play();
      document.getElementById("display").innerHTML = "CLOSEDHH";
      break; 
  }
  
  });



let playClip = (clicked_id) => {
  let clip = document.getElementById(clips[clicked_id]);
  

let volume = document.querySelector("#volume-slider");
volume.addEventListener("change", function(e) {
clip.volume = e.currentTarget.value / 100;
})
  clip.play();
 document.getElementById("display").innerHTML = clicked_id.toUpperCase();
  
 $(`#${clicked_id}`).addClass("animate__animated animate__pulse");
let pulseFunc = () => {
  $(`#${clicked_id}`).removeClass("animate__animated animate__pulse");
};
setTimeout(pulseFunc, 500);
};

let powerFlag = 1;
const togglePower = () => {
  if (powerFlag === 1) {
    document.getElementById("onoff-container").style.justifyContent = "right";
    document.getElementById("display").innerHTML = "";
  $(".drum-pad").attr("disabled", true);
    
    powerFlag = 2;
  }
  
  else if (powerFlag === 2) {
    document.getElementById("onoff-container").style.justifyContent = "left";
    $(".drum-pad").attr("disabled", false);
    
    powerFlag = 1;
  }
}

      </script>
    </head>
<div id="drum-machine">
  <div id="container">
    <div id="drum-pad-area">
      <div id="top-btns" class="btn-rows">
        <button id="heater1" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3" class="clip" id="Q">
          </audio><h2 class="letters">Q</h2></button>
        <button id="heater2" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3" class="clip" id="W">
          </audio><h2 class="letters">W</h2></button>
        <button id="heater3" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3" class="clip" id="E">
          </audio><h2 class="letters">E</h2></button>
      </div>
      <div id="middle-btns" class="btn-rows">
        <button id="heater4" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3" class="clip" id="A"></audio><h2 class="letters">A</h2></button>
        <button id="clap" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3" class="clip" id="S">
          </audio>
          <h2 class="letters">S</h2>
        </button>
        <button id="openhh" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3" class="clip" id="D">
          </audio><h2 class="letters">D</h2></button>
      </div>
      <div id="bottom-btns" class="btn-rows">
        <button id="kicknhat" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3" class="clip" id="Z">
          </audio><h2 class="letters">Z</h2></d>
        <button id="kick" class="drum-pad" onclick="playClip(this.id)">
          <audio src="https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3" class="clip" id="X">
          </audio><h2 class="letters">X</h2></button>
        <button id="closedhh" class="drum-pad" onclick="playClip(this.id)"><audio src="https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3" class="clip" id="C">
          </audio><h2 class="letters">C</h2></button>
      </div>
    </div>
    <div id="options">
      <h2 id="power">POWER</h2>
      <div id="onoff-container">
        <div id="onoffbutton" onclick="togglePower()"></div>
      </div>
      <h1 id="display">
      </h1>
      <input type="range" id="volume-slider"></input>
    </div>
    
  </div>
</div>
    
  </body>
</html>
